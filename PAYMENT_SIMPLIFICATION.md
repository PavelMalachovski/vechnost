# üéØ –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–ø–ª–∞—Ç—ã

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### ‚úÖ –£–±—Ä–∞–Ω–æ
1. **–ü—Ä–µ–º–∏—É–º-–∫–∞–Ω–∞–ª**:
   - –£–¥–∞–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `PREMIUM_CHANNEL_ID` –∏ `PREMIUM_CHANNEL_INVITE_LINK`
   - –£–±—Ä–∞–Ω–∞ feature `premium_channel_access` –∏–∑ –ø–æ–¥–ø–∏—Å–æ–∫
   - –î–ª—è –ø–ª–∞—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç

2. **–£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏**:
   - –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ —É—Ä–æ–≤–Ω—è: FREE –∏ PREMIUM
   - FREE: 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å, –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–æ–≤—ã–º —Ç–µ–º–∞–º (–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ, –î–ª—è –ø–∞—Ä)
   - PREMIUM: –±–µ–∑–ª–∏–º–∏—Ç –≤–æ–ø—Ä–æ—Å–æ–≤, –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ç–µ–º–∞–º (–≤–∫–ª—é—á–∞—è –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è –∏ –°–µ–∫—Å)

### üéØ –û—Å—Ç–∞–ª–æ—Å—å
1. **–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Tribute**:
   - –ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞: 299 ‚ÇΩ
   - –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞: 2990 ‚ÇΩ

2. **–§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞**:
   - ‚ú® –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - ‚ô•Ô∏è –î–ª—è –ø–∞—Ä (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - ‚ù§Ô∏è‚Äçüî• –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è (–ø—Ä–µ–º–∏—É–º)
   - üî• –°–µ–∫—Å (–ø—Ä–µ–º–∏—É–º)

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
   - FREE: 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å
   - PREMIUM: –±–µ–∑–ª–∏–º–∏—Ç

## –ú–æ–¥–µ–ª—å –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–¥–∞—Ç—å **10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å**
- –î–æ—Å—Ç—É–ø –∫ —Ç–µ–º–∞–º **"–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ"** –∏ **"–î–ª—è –ø–∞—Ä"**
- –ö–æ–Ω—Ç–∞–∫—Ç —Å –∞–≤—Ç–æ—Ä–æ–º

### –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ (299‚ÇΩ/–º–µ—Å –∏–ª–∏ 2990‚ÇΩ/–≥–æ–¥)
- **–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã**
- –î–æ—Å—Ç—É–ø –∫–æ **–≤—Å–µ–º —Ç–µ–º–∞–º** (–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ, –î–ª—è –ø–∞—Ä, –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è, –°–µ–∫—Å)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–æ–Ω—ã
- –†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤—ã–º —Ç–µ–º–∞–º

## Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 1. –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```
/start ‚Üí –í—ã–±–æ—Ä —è–∑—ã–∫–∞ ‚Üí –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ‚Üí "–í–û–ô–¢–ò –í VECHNOST"
```

### 2. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–±–µ–∑ –æ–ø–ª–∞—Ç—ã)
```
–í—ã–±–æ—Ä —Ç–µ–º—ã ‚Üí ‚ú® –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ ‚úÖ –∏–ª–∏ ‚ô•Ô∏è –î–ª—è –ø–∞—Ä ‚úÖ
            ‚Üì
        10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å
            ‚Üì
    –ü–æ—Å–ª–µ 10 –≤–æ–ø—Ä–æ—Å–æ–≤: "–£–ª—É—á—à–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
```

```
–í—ã–±–æ—Ä —Ç–µ–º—ã ‚Üí ‚ù§Ô∏è‚Äçüî• –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è ‚ùå –∏–ª–∏ üî• –°–µ–∫—Å ‚ùå
            ‚Üì
        "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞"
            ‚Üì
        –ö–Ω–æ–ø–∫–∞ "–£–ª—É—á—à–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
```

### 3. –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)
```
–í—ã–±–æ—Ä —Ç–µ–º—ã ‚Üí –õ—é–±–∞—è —Ç–µ–º–∞ ‚úÖ
            ‚Üì
    –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚úÖ
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env
```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ–ø–ª–∞—Ç—ã:
TRIBUTE_API_KEY=your_key
TRIBUTE_API_SECRET=your_secret
TRIBUTE_WEBHOOK_SECRET=your_webhook_secret
PAYMENT_ENABLED=true
AUTHOR_USERNAME=your_username
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–µ–º–∞–º

```python
# –í subscription_middleware.py
async def check_and_enforce_subscription(query, session, theme_to_access):
    # –ü—Ä–µ–º–∏—É–º —Ç–µ–º—ã: –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è –∏ –°–µ–∫—Å
    is_premium_theme = theme_to_access in ["Provocation", "Sex"]

    if is_premium_theme and not subscription.can_access_premium_themes():
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–∫–Ω–æ –∞–ø–≥—Ä–µ–π–¥–∞
        return False

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –¥–ª—è FREE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    if subscription.tier == FREE and not subscription.can_ask_question():
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–∫–Ω–æ –∞–ø–≥—Ä–µ–π–¥–∞
        return False

    return True
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–ø–∏—Å–∫–∏

```python
class UserSubscription:
    user_id: int
    tier: FREE | PREMIUM
    expires_at: datetime  # –î–ª—è PREMIUM
    question_count_today: int  # –î–ª—è FREE
    last_question_date: datetime
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Tribute** (—Å–º. `TRIBUTE_SETUP_GUIDE.md`)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞** –≤ production
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏**
4. **–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è –ø—Ä–µ–º–∏—É–º-–∫–∞–Ω–∞–ª–∞** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## FAQ

**Q: –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∑–Ω–∞–µ—Ç, —á—Ç–æ —É –Ω–µ–≥–æ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã?**
A: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–¥–∞—Ç—å 11-–π –≤–æ–ø—Ä–æ—Å –∑–∞ –¥–µ–Ω—å –ø–æ—è–≤–∏—Ç—Å—è alert: "–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ 10 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–µ–≥–æ–¥–Ω—è. –£–ª—É—á—à–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞!"

**Q: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏?**
A: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ FREE —Ç–∞—Ä–∏—Ñ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–º–µ—Å—Ç–æ Tribute?**
A: –î–∞, –Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å `tribute_client.py` –ø–æ–¥ API –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –õ–æ–≥–∏–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–π –∂–µ.

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∏?**
A: –í Redis + in-memory cache –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏–∑ Redis.

---

‚úÖ **–°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã —É–ø—Ä–æ—â–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!**


