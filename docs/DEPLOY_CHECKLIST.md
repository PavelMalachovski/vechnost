# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `aiosqlite`
- –î–æ–±–∞–≤–ª–µ–Ω `aiosqlite>=0.19.0` –≤ `pyproject.toml`
- –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç –æ—à–∏–±–∫—É `ModuleNotFoundError: No module named 'aiosqlite'`
- **–¢–∞–±–ª–∏—Ü—ã –ë–î —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (–Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏)

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
- –ö—Ä–∞—Å–∏–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã –Ω–∞ –≤—Å–µ—Ö 3 —è–∑—ã–∫–∞—Ö (RU, EN, CS)
- –ö–Ω–æ–ø–∫–∞ "üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"

### 3. ‚úÖ –ò–∑–º–µ–Ω—ë–Ω —Ñ–ª–æ—É –æ–ø–ª–∞—Ç—ã
**–°—Ç–∞—Ä—ã–π:**
```
/start ‚Üí –Ø–∑—ã–∫ ‚Üí –°—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã
```

**–ù–æ–≤—ã–π:**
```
/start ‚Üí –Ø–∑—ã–∫ ‚Üí –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí
‚Üí –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã ‚Üí
‚Üí –¢–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞) –ò–õ–ò Tribute (–µ—Å–ª–∏ –Ω–µ—Ç)
```

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ Railway

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
–í Railway ‚Üí Variables —É–±–µ–¥–∏—Ç–µ—Å—å:
```bash
ENABLE_PAYMENT=True   # ‚Üê –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ True (—Å–µ–π—á–∞—Å False)
TRIBUTE_API_KEY=xxx   # ‚Üê –í–∞—à API –∫–ª—é—á
WEBHOOK_SECRET=xxx    # ‚Üê –í–∞—à —Å–µ–∫—Ä–µ—Ç
DATABASE_URL=sqlite+aiosqlite:///./vechnost.db
```

### –®–∞–≥ 2: –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ
```bash
git add .
git commit -m "Add greeting page and fix aiosqlite"
git push origin main
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `aiosqlite`
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç Docker-–æ–±—Ä–∞–∑
3. –ó–∞–ø—É—Å—Ç–∏—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ –±–æ—Ç–∞

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –í Telegram –±–æ—Ç–µ:
1. `/start`
2. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ üá∑üá∫
3. –£–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
4. –ù–∞–∂–º–∏—Ç–µ "üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
5. **–ï—Å–ª–∏ ENABLE_PAYMENT=True –∏ –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏:**
   - –£–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ
   - –ö–Ω–æ–ø–∫–∏ "üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É" –∏ "üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É"
6. **–ï—Å–ª–∏ ENABLE_PAYMENT=False –∏–ª–∏ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞:**
   - –°—Ä–∞–∑—É –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—ã–±–æ—Ä —Ç–µ–º

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ (Railway)

‚úÖ **–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:**
```
Starting Container
Redis auto-started successfully
Application created with handlers: start, help, reset, about
Starting Vechnost bot...
Application started
```

‚úÖ **–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ (–±–µ–∑ aiosqlite –æ—à–∏–±–∫–∏):**
```
Callback query received: lang_ru from chat 1115719673
# –ë–æ–ª—å—à–µ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Error registering user: No module named 'aiosqlite'"
```

‚úÖ **–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫):**
```
Callback query received: start_game from chat 1115719673
Initializing database with URL: sqlite+aiosqlite:///./vechnost.db
Database initialized successfully
Database tables created successfully  # ‚Üê –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏...
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå –í—Å—ë –µ—â—ë "No module named 'aiosqlite'"
**–†–µ—à–µ–Ω–∏–µ:** Railway ‚Üí Settings ‚Üí Redeploy

### ‚ùå "no such table: users"
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –±–µ–∑ –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º `database.py`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç –≤ Railway (Redeploy)
3. –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

### ‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω: `git push origin main`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –µ—Å—Ç—å –ª–∏ —Å—Ç—Ä–æ–∫–∞ `Application created with handlers: start, help, reset, about`

### ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–ø–ª–∞—Ç—É
**–ü—Ä–∏—á–∏–Ω–∞:** `ENABLE_PAYMENT=False` –≤ Railway
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ `ENABLE_PAYMENT=True` –≤ Variables

## –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —ç—Ç–∏ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ `pyproject.toml` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `aiosqlite>=0.19.0`
- ‚úÖ `vechnost_bot/callback_handlers.py` ‚Äî –µ—Å—Ç—å `StartGameHandler`
- ‚úÖ `vechnost_bot/callback_models.py` ‚Äî –µ—Å—Ç—å `START_GAME`
- ‚úÖ `data/translations_ru.yaml` ‚Äî –µ—Å—Ç—å `greeting_title`, `greeting_intro` –∏ —Ç.–¥.
- ‚úÖ `data/translations_en.yaml` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- ‚úÖ `data/translations_cs.yaml` ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `docs/PAYMENT_UPDATE_GUIDE.md` ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `docs/ENVIRONMENT_VARIABLES.md` ‚Äî –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `docs/PAYMENT_TROUBLESHOOTING.md` ‚Äî —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –æ–ø–ª–∞—Ç–æ–π

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é! üöÄ**

