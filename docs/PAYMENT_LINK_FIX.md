# üîó –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É Tribute

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø–ª–∞—Ç—ã, –Ω–æ **–Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ —Å–æ —Å—Å—ã–ª–∫–æ–π** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É Tribute –¥–ª—è –æ–ø–ª–∞—Ç—ã.

## –ü—Ä–∏—á–∏–Ω–∞
–ö–Ω–æ–ø–∫–∏ —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏–∑ –ë–î, –Ω–æ –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å Tribute API.

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–æ–ª–ª–±—ç–∫ —Å—Å—ã–ª–∫–∞** –Ω–∞ Tribute, –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–µ—Ç –≤ –ë–î
2. **–ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**: `TRIBUTE_PAYMENT_URL`
3. –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ —É–≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É –¥–ª—è –æ–ø–ª–∞—Ç—ã

### üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `vechnost_bot/payments/middleware.py`
   - –î–æ–±–∞–≤–ª–µ–Ω —Ñ–æ–ª–ª–±—ç–∫ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
   - –ï—Å–ª–∏ –≤ –ë–î –Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ —Å `TRIBUTE_PAYMENT_URL`

2. `vechnost_bot/config.py`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `tribute_payment_url`

3. `env.example`
   - –î–æ–±–∞–≤–ª–µ–Ω `TRIBUTE_PAYMENT_URL`

## üöÄ –ö–∞–∫ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å:

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

–í Railway ‚Üí Variables –¥–æ–±–∞–≤—å—Ç–µ:
```bash
TRIBUTE_PAYMENT_URL=https://tribute.to/your_actual_page_here
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ó–∞–º–µ–Ω–∏—Ç–µ `your_actual_page_here` –Ω–∞ –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É Tribute!

–ù–∞–ø—Ä–∏–º–µ—Ä:
- `https://tribute.to/vechnost`
- `https://tribute.to/yourusername`
- –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π URL –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã

### –®–∞–≥ 2: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∫–æ–¥

```bash
git add .
git commit -m "Add fallback payment link for Tribute"
git push origin feature/add_payments2
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. `/start`
3. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ üá∑üá∫
4. –£–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. –ù–∞–∂–º–∏—Ç–µ "üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
6. **–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "üí≥ –ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø"** —Å –≤–∞—à–µ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ Tribute! ‚úÖ

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚ùå:
```
üîí –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –∏–ª–∏ –æ–ø–ª–∞—Ç–∞.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∏–∂–µ:

[ üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã ]  ‚Üê –¢–æ–ª—å–∫–æ —ç—Ç–∞ –∫–Ω–æ–ø–∫–∞
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ:
```
üîí –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –∏–ª–∏ –æ–ø–ª–∞—Ç–∞.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∏–∂–µ:

[ üí≥ –ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø ]  ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê! –í–µ–¥—ë—Ç –Ω–∞ Tribute
[ üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã ]
```

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í –±—É–¥—É—â–µ–º, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ Tribute:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TRIBUTE_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –í—ã–∑–æ–≤–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
   ```bash
   curl -X POST https://your-bot.railway.app/admin/sync-products \
     -H "X-API-Key: your_tribute_api_key"
   ```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤–º–µ—Å—Ç–æ —Ñ–æ–ª–ª–±—ç–∫ —Å—Å—ã–ª–∫–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ Tribute.

## –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
```
User 540529430 has no active access
HTTP Request: POST .../editMessageText "HTTP/1.1 200 OK"
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "üí≥ –ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø"
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (–±–µ–∑ –¥–µ–ø–ª–æ—è)

–ï—Å–ª–∏ –æ—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ –∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å —Å–µ–π—á–∞—Å, –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –ë–î:

```python
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î vechnost.db –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
INSERT INTO products (
    tribute_id, name, price, currency,
    t_link, web_link, active
) VALUES (
    'manual-1', 'VECHNOST –ü–æ–¥–ø–∏—Å–∫–∞', 999, 'RUB',
    'https://tribute.to/your_page',
    'https://tribute.to/your_page',
    1
);
```

–ù–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å `TRIBUTE_PAYMENT_URL`!

---

**–ò–¢–û–ì–û:**
1. –î–æ–±–∞–≤—å—Ç–µ `TRIBUTE_PAYMENT_URL` –≤ Railway Variables
2. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∫–æ–¥
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã –ø–æ—è–≤–∏—Ç—Å—è!

